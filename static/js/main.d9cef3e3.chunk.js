(this["webpackJsonpreactapp-node-mysql"]=this["webpackJsonpreactapp-node-mysql"]||[]).push([[0],{57:function(e,t,n){e.exports=n(95)},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),i=n(26),o=n.n(i),l=n(10),u=n(28),s=n(18),m=n(50),h=n(32),p=n.n(h),d=(n(66),n(68),p.a.initializeApp({apiKey:"AIzaSyDW2mKZntzrDJ5LjVuOYEGcX2-8h2jIgiw",authDomain:"react-node-mysql.firebaseapp.com",databaseURL:"https://react-node-mysql.firebaseio.com",projectId:"react-node-mysql",storageBucket:"react-node-mysql.appspot.com",messagingSenderId:"786987374545",appId:"1:786987374545:web:d471b11e58b73571cff2f0"})),E=new p.a.auth.GoogleAuthProvider,g=(d.firestore(),"http://localhost:3006"),b=function(e){return{type:"LOGIN_SUCCESS",user:e}},f=function(){return function(e){e({type:"LOGIN_REQUEST"}),d.auth().signInWithPopup(E).then((function(t){window.location=g,e(b(t))})).catch((function(t){e({type:"LOGIN_FAILURE"})}))}},O=function(){return function(e){console.log("estoy"),e({type:"LOGOUT_REQUEST"}),d.auth().signOut().then((function(){window.location=g+"/login",e({type:"LOGOUT_SUCCESS"})})).catch((function(t){e({type:"LOGOUT_FAILURE"})}))}},v=n(33),j=n.n(v),y=n(51),I=n(97),C=n(52),N=n.n(C).a.create({baseURL:"http://localhost:4001"}),A={get:function(){return N({url:"channels",method:"GET"})},create:function(e){return N({url:"channels",method:"POST",data:e})}},L=Object(I.a)("getChannelsSuccess"),S=Object(I.a)("createChannels"),U=Object(I.a)("connectedChannel"),w=n(17),R=n(22),k=n(36),T=n(96),_=Object(T.a)((a={},Object(R.a)(a,S,(function(e,t){return[].concat(Object(k.a)(e),[t.payload])})),Object(R.a)(a,L,(function(e,t){return t.payload})),Object(R.a)(a,U,(function(e,t){return[].concat(Object(k.a)(e),[t.payload])})),a),[]),G=Object(s.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggingIn:!1,isLoggingOut:!1,isVerifying:!1,loginError:!1,logoutError:!1,isAuthenticated:!1,user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Object(w.a)({},e,{isLoggingIn:!0,loginError:!1});case"LOGIN_SUCCESS":return Object(w.a)({},e,{isLoggingIn:!1,isAuthenticated:!0,user:t.user});case"LOGIN_FAILURE":return Object(w.a)({},e,{isLoggingIn:!1,isAuthenticated:!1,loginError:!0});case"LOGOUT_REQUEST":return Object(w.a)({},e,{isLoggingOut:!0,logoutError:!1});case"LOGOUT_SUCCESS":return Object(w.a)({},e,{isLoggingOut:!1,isAuthenticated:!1,user:{}});case"LOGOUT_FAILURE":return Object(w.a)({},e,{isLoggingOut:!1,logoutError:!0});case"VERIFY_REQUEST":return Object(w.a)({},e,{isVerifying:!0,verifyingError:!1});case"VERIFY_SUCCESS":return Object(w.a)({},e,{isVerifying:!1});default:return e}},channelReducer:_}),V=n(53);n(88);var F=n(19),x=n(7),B=n(8),D=n(11),q=n(9),Q=n(12),P=function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(D.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).state={auth:""},n.handleSubmit=function(){(0,n.props.dispatch)(f())},n}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuthenticated,n=e.userName;return t?c.a.createElement("div",null,"INICIADO como ",n,c.a.createElement("button",{onClick:this.handleSubmit},"Iniciar")):c.a.createElement("div",null,"NO INICIADO",c.a.createElement("button",{onClick:this.handleSubmit},"Iniciar"))}}]),t}(r.Component);var W=Object(l.b)((function(e){return{isLoggingIn:e.auth.isLoggingIn,loginError:e.auth.loginError,isAuthenticated:e.auth.isAuthenticated,userName:e.auth.user.displayName}}))(P),Y=(n(89),n(15)),M=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.userName,n=e.userPhoto;return c.a.createElement("div",{className:"navTop"},c.a.createElement("div",{className:"navTopCenter"},c.a.createElement("div",{className:"searchBar"},c.a.createElement("div",{className:"searchBarIcon"},c.a.createElement(Y.b,null)),c.a.createElement("input",{type:"text",placeholder:"Buscar persona o canal..."}))),c.a.createElement("div",{className:"navTopRight"},c.a.createElement("li",null,c.a.createElement("button",null,c.a.createElement(Y.d,null))),c.a.createElement("li",null,c.a.createElement("button",null,c.a.createElement(Y.e,null))),c.a.createElement("li",null,c.a.createElement("button",{onClick:this.showUserMenu},c.a.createElement("small",null,t),c.a.createElement("img",{alt:"user",src:n})))))}}]),t}(r.Component);var z=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,userName:e.auth.user.displayName,userPhoto:e.auth.user.photoURL}}))(M),J=(n(90),function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(D.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).logoutUserAction=function(){(0,n.props.dispatch)(O())},n}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"sideNav"},c.a.createElement("div",{className:"sideNav-title"},"Menu"),c.a.createElement("li",{id:"selected"},c.a.createElement(Y.b,null)),c.a.createElement("hr",null),c.a.createElement("li",null,c.a.createElement(Y.a,null)),c.a.createElement("li",{onClick:this.logoutUserAction},c.a.createElement(Y.c,null)))}}]),t}(r.Component));var K=Object(l.b)((function(e){return{isLoggingIn:e.auth.isLoggingIn,loginError:e.auth.loginError,isAuthenticated:e.auth.isAuthenticated,userName:e.auth.user.displayName}}))(J),X=n(55),Z=function(e){var t=e.component,n=e.isAuthenticated,a=e.isVerifying,r=Object(X.a)(e,["component","isAuthenticated","isVerifying"]);return c.a.createElement(F.b,Object.assign({},r,{render:function(e){return a?c.a.createElement("div",null):n?c.a.createElement(t,e):c.a.createElement(F.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},$=(n(92),n(93),function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(D.a)(this,(e=Object(q.a)(t)).call.apply(e,[this].concat(r)))).joinChannel=function(){var e=n.props.roomName;window.open("https://prueba-rtc-multiple.herokuapp.com?roomId="+e)},n}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,n=e.descripcion,a=e.titulo,r={backgroundImage:"url("+t+")"};return c.a.createElement("div",{className:"channelBody",style:r},c.a.createElement("div",{className:"textChannel"},c.a.createElement("h6",null,a),c.a.createElement("span",null,n)),c.a.createElement("div",{className:"joinChannel",onClick:this.joinChannel},c.a.createElement("button",null,c.a.createElement(Y.b,null)," ",c.a.createElement("span",null,"Unirme"))))}}]),t}(r.Component)),H=function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getChannels)()}},{key:"render",value:function(){var e=this.props.channels;return c.a.createElement("div",{className:"sideNavComponent"},c.a.createElement("h3",{className:"title"},"Canales"),c.a.createElement("div",{className:"channelList"},e.map((function(e){return c.a.createElement($,{key:e.id,titulo:e.titulo,descripcion:e.descripcion,image:e.image,roomName:e.roomName})}))))}}]),t}(r.Component);var ee={getChannels:function(){return function(){var e=Object(y.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get();case 2:n=e.sent,t(L(n.data));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},te=Object(l.b)((function(e){return{channels:e.channelReducer}}),ee)(H),ne=(n(94),function(e){function t(){return Object(x.a)(this,t),Object(D.a)(this,Object(q.a)(t).apply(this,arguments))}return Object(Q.a)(t,e),Object(B.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"RoomComponent"},"dsaadsdsa")}}]),t}(r.Component));var ae=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isVerifying:e.auth.isVerifying}}))((function(e){var t=e.isAuthenticated,n=e.isVerifying;return c.a.createElement("div",null,t?c.a.createElement(z,null):null,t?c.a.createElement(K,null):null,c.a.createElement(F.d,null,c.a.createElement("div",null,c.a.createElement(Z,{exact:!0,path:"/",component:te,isAuthenticated:t,isVerifying:n}),c.a.createElement(Z,{exact:!0,path:"/Room",component:ne,isAuthenticated:t,isVerifying:n})),c.a.createElement(F.b,{path:"/login",component:W})))})),re=function(e){var t=Object(s.createStore)(G,e,Object(V.composeWithDevTools)(Object(s.applyMiddleware)(m.a)));return t.dispatch((function(e){e({type:"VERIFY_REQUEST"}),d.auth().onAuthStateChanged((function(t){null!==t&&e(b(t)),e({type:"VERIFY_SUCCESS"})}))})),t}();var ce=function(){return c.a.createElement(l.a,{store:re},c.a.createElement(u.a,null,c.a.createElement(ae,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[57,1,2]]]);
//# sourceMappingURL=main.d9cef3e3.chunk.js.map